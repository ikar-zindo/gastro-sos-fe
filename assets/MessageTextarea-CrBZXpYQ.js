import{a as p,r as x,i as C,j as e,k as i,C as h}from"./index-CuptmwH_.js";const k=t=>t.chatPage.messages,v=t=>t.chatPage.status,y=t=>{var d;const l=p(v);let a=t.value,r=x.useRef(null);const{handleSubmit:g,setValue:c,formState:{errors:m}}=C({defaultValues:{text:a.text}});x.useEffect(()=>{c("text",a.text);const s=()=>{const o=r.current;o&&(o.style.height="auto",o.style.height=`${Math.min(o.scrollHeight,100)}px`)};s();const n=r.current;return n&&n.addEventListener("input",s),()=>{n&&n.removeEventListener("input",s)}},[r,c]);const j=()=>{if(r.current){let s=r.current.value;t.handleChange({text:s})}},f=s=>{s.key==="Enter"&&s.ctrlKey&&u()},u=()=>{a.text&&l===h.Ready&&t.handleClick()};return e.jsx("div",{className:i.textareaContainer,children:e.jsxs("form",{onSubmit:g(u),children:[e.jsxs("div",{children:[" ",e.jsx("textarea",{id:"textarea",required:!0,ref:r,value:a.text,onChange:j,onKeyDown:f,placeholder:t.placeholder}),e.jsx("span",{className:i.errorMessage,children:(d=m.text)==null?void 0:d.message})]}),a.text&&e.jsx("div",{className:i.button,children:e.jsx("button",{type:"submit",disabled:l!==h.Ready,children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),e.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("g",{id:"SVGRepo_iconCarrier",children:e.jsx("path",{d:"M22 2L2 8.66667L11.5833 12.4167M22 2L15.3333 22L11.5833 12.4167M22 2L11.5833 12.4167",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})})})]})})};export{y as M,k as s};
